(window.webpackJsonp=window.webpackJsonp||[]).push([[28,12],{437:function(e,t,r){"use strict";r.d(t,"a",(function(){return c})),r.d(t,"b",(function(){return f})),r.d(t,"c",(function(){return d}));var n=r(441),o=r(2),c=Object(o.h)("v-card__actions"),l=Object(o.h)("v-card__subtitle"),f=Object(o.h)("v-card__text"),d=Object(o.h)("v-card__title");n.a},470:function(e,t,r){"use strict";r.r(t);var n=r(3),o=r(24);r(38),r(10),r(8),r(11),r(15),r(9),r(16),r(98);function c(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function l(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(t){Object(n.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var f={data:function(){return{user:{name:"",id:"",exp:""}}},methods:{googleLogin:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=new e.$fb.auth.GoogleAuthProvider,t.next=3,e.$fb.auth().signInWithPopup(r).then((function(t){e.checkGoogleUser(t.user),e.$router.push("/mypage")})).catch((function(t){e.$router.push("/")}));case 3:case"end":return t.stop()}}),t)})))()},checkGoogleUser:function(e){var t=this;return Object(o.a)(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=t.$fb.firestore().collection("users").doc(e.uid),r.next=3,n.get().then((function(r){r.exists?(t.$store.dispatch("getUser",e.uid),t.router.push("/mypage")):(t.user.name=e.displayName,t.submitUserData(e),t.router.push("/mypage"))}));case 3:case"end":return r.stop()}}),r)})))()},submitUserData:function(e){var t=this;return Object(o.a)(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t.user.id=e.uid,n=t.$fb.firestore().collection("users"),r.next=4,n.doc(t.user.id).set(l({},t.user));case 4:case"end":return r.stop()}}),r)})))()}}},d=r(30),m=r(90),v=r.n(m),h=r(236),component=Object(d.a)(f,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-btn",{attrs:{elevation:"0"},on:{click:e.googleLogin}},[r("span",{staticClass:"blue--text text--darken-2"},[e._v("G")]),r("span",{staticClass:"red--text text-darken-2"},[e._v("o")]),r("span",{staticClass:"yellow--text text-darken-2"},[e._v("o")]),r("span",{staticClass:"blue--text text--darken-2"},[e._v("g")]),r("span",{staticClass:"green--text text--darken-2"},[e._v("l")]),r("span",{staticClass:"red--text text--darken-2"},[e._v("e")]),e._v("でログイン")])}),[],!1,null,null,null);t.default=component.exports;v()(component,{VBtn:h.a})},555:function(e,t,r){"use strict";r.r(t);var n=r(24),o=(r(98),{data:function(){return{show:!1,email:"",pass:"",match:!0}},computed:{},methods:{login:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$fb.auth().signInWithEmailAndPassword(e.email,e.pass).then((function(t){"test-user@test.com"===e.email?e.$router.push("/mypage"):e.emailConfirm()})).catch((function(){window.alert("メールアドレス又はパスワードが間違っています")}));case 2:case"end":return t.stop()}}),t)})))()},toSignup:function(){this.$router.push("/signup")},sendEmail:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$fb.auth().currentUser.sendEmailVerification({url:"https://my-handbook-328611.web.app/timeline",handleCodeInApp:!1}).then((function(){e.$store.dispatch("logout"),e.$router.push("/emailconfirm")}));case 2:case"end":return t.stop()}}),t)})))()},emailConfirm:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$fb.auth().currentUser.emailVerified;case 2:t.sent?e.$router.push("/mypage"):e.sendEmail();case 4:case"end":return t.stop()}}),t)})))()}}}),c=r(30),l=r(90),f=r.n(l),d=r(236),m=r(441),v=r(437),h=r(432),w=r(433),x=r(443),component=Object(c.a)(o,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-row",{attrs:{justify:"center",align:"center"}},[r("v-col",{attrs:{cols:"11",sm:"8",md:"6",lg:"5"}},[r("v-card",{staticClass:"pb-10",attrs:{outlined:""}},[r("v-btn",{attrs:{elevation:"0",text:"",color:"primary"},on:{click:e.toSignup}},[e._v("＜新規登録する")]),e._v(" "),r("v-row",{attrs:{justify:"center"}},[r("v-col",{attrs:{cols:"10",md:"8"}},[r("v-card-title",[e._v("ログイン")]),e._v(" "),r("v-text-field",{attrs:{label:"メールアドレス"},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}}),e._v(" "),r("v-text-field",{attrs:{"append-icon":e.show?"mdi-eye":"mdi-eye-off",label:"パスワード",type:e.show?"text":"password"},on:{"click:append":function(t){e.show=!e.show}},model:{value:e.pass,callback:function(t){e.pass=t},expression:"pass"}})],1)],1),e._v(" "),r("v-row",{attrs:{justify:"center"}},[r("v-col",{attrs:{cols:"10",md:"9"}},[r("v-row",{attrs:{justify:"space-between"}},[r("LoginGoogle"),e._v(" "),r("v-btn",{attrs:{elevation:"0",color:"primary"},on:{click:e.login}},[e._v("ログイン")])],1)],1)],1)],1)],1)],1)}),[],!1,null,null,null);t.default=component.exports;f()(component,{LoginGoogle:r(470).default}),f()(component,{VBtn:d.a,VCard:m.a,VCardTitle:v.c,VCol:h.a,VRow:w.a,VTextField:x.a})}}]);