(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{470:function(e,t,r){"use strict";r.r(t);var n=r(3),o=r(25);r(39),r(10),r(8),r(11),r(15),r(9),r(16),r(98);function c(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function l(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(t){Object(n.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var f={data:function(){return{user:{name:"",id:"",exp:""}}},methods:{googleLogin:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=new e.$fb.auth.GoogleAuthProvider,t.next=3,e.$fb.auth().signInWithPopup(r).then((function(t){e.checkGoogleUser(t.user),e.$router.push("/mypage")})).catch((function(t){console.log(t),e.$router.push("/")}));case 3:case"end":return t.stop()}}),t)})))()},checkGoogleUser:function(e){var t=this;return Object(o.a)(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=t.$fb.firestore().collection("users").doc(e.uid),r.next=3,n.get().then((function(r){r.exists?(t.$store.dispatch("getUser",e.uid),console.log(e.uid),t.router.push("/mypage")):(t.user.name=e.displayName,t.submitUserData(e),t.router.push("/mypage"))})).catch((function(){console.log("")}));case 3:case"end":return r.stop()}}),r)})))()},submitUserData:function(e){var t=this;return Object(o.a)(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t.user.id=e.uid,n=t.$fb.firestore().collection("users"),r.next=4,n.doc(t.user.id).set(l({},t.user));case 4:case"end":return r.stop()}}),r)})))()}}},d=r(30),h=r(90),v=r.n(h),m=r(237),component=Object(d.a)(f,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-btn",{attrs:{elevation:"0"},on:{click:e.googleLogin}},[r("span",{staticClass:"blue--text text--darken-2"},[e._v("G")]),r("span",{staticClass:"red--text text-darken-2"},[e._v("o")]),r("span",{staticClass:"yellow--text text-darken-2"},[e._v("o")]),r("span",{staticClass:"blue--text text--darken-2"},[e._v("g")]),r("span",{staticClass:"green--text text--darken-2"},[e._v("l")]),r("span",{staticClass:"red--text text--darken-2"},[e._v("e")]),e._v("でログイン")])}),[],!1,null,null,null);t.default=component.exports;v()(component,{VBtn:m.a})}}]);